<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../css/result.css">

        <title>[펌]SQL*LOADER 의 성능 향상 TIP</title>
    </head>
    <body>
        <section id="wrap">
            <header>
                <h1 class="logo-title">
                    <span class="main"><img src="../../images/logo_egloos.png" width="105" height="34" alt="이글루스"></span>
                </h1>
                <div class="user-info">
                    <strong class="name">kun</strong> 님 (<strong class="name">okseop7</strong>)
                </div>
            </header>
            <main>
                <article class="post-wrap">
                    <!-- 게시물 정보 : 날짜 -->
                    <div class="post-info">
                        <span class="time">2009-03-09 23:50:10</span>
                    </div>
                    <!-- 게시물 제목 -->
                    <h2 class="post-title">[펌]SQL*LOADER 의 성능 향상 TIP</h2>
                    <!-- 게시물 본문 -->
                    <div class="post-body">
                        <div class="content"><br><br><table width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr valign="top"><td width="75%" height="25"><span class="bold">[펌]SQL*LOADER 의 성능 향상 TIP</span><img src="http://www.dbguide.net/blog_main/img/blog/gab_01.gif" width="16" height="11"><span class="light">기본게시판</span></td>                            <td class="ver" width="25%" align="right" height="25">2008-11-11 22:32</td>                          </tr>                          <tr>                             <td colspan="2" background="/blog_main/img/blog/dot2.gif" height="1"><br></td>                          </tr>                          <tr>                             <td colspan="2" class="ver9_light" valign="middle" align="right" height="25"><a href="http://www.dbguide.net/blog/post/post_view.jsp?urlid=jinhyeon&amp;cnum=28100&amp;pnum=13081"><span class="ver9_light">http://blog.dbguide.net/jinhyeon/13081</span></a></td>                          </tr>                          <tr>                             <td colspan="2" height="20"><br></td>                          </tr>                          <tr>                             <td colspan="2">                            <!-- 내용 -->                            <table style="table-layout: fixed;" width="100%" border="0" cellpadding="0" cellspacing="0">                                                        <tbody><tr>                                                        <td>                            <img src="http://www.dbguide.net/blog/images/blank.gif" width="1" border="0" height="10"><br>                            <p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><strong><span lang="EN-US">10g 에서 SQL*LOADER </span>의 성능 향상</strong><span lang="EN-US"><strong> TIP</strong>&nbsp;&nbsp;&nbsp; </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US"></span></font></font>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">작성:김도근</span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US"></span></font></font>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US"></span></font></font>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">SQL*LOADER 사용시에 여러가지 적절한 옵션 사용과 테이블에 대한 설정값들을 변경시켜줍으로써 많은 성능 향상을 가져올수 있다.</span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">다음은 그 권장되는 설정법들을 설명한 것이다. </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">1. DIRECT PATH LOAD</span>를 사용한다<span lang="EN-US">. Direct path load</span>는<span lang="EN-US"> load</span>되는 테이블이나 파티션에<span lang="EN-US"> exclusive access</span>를 요구한다<span lang="EN-US">. </span>추가적으로 트리거는 자동으로<span lang="EN-US"> disable</span>되고 제약조건은 로드가 완료될때까지<span lang="EN-US"> defer(</span>연기<span lang="EN-US">) </span>된다<span lang="EN-US">.</span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US"></span></font></font>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">2. direct path load</span>로 데이타를 로드시에 모든 <b><span lang="EN-US">CHECK</span></b><span lang="EN-US"> </span>와 <b><span lang="EN-US">REFERENCE</span></b><span lang="EN-US"> </span>무결성 제약조건은 자동으로<span lang="EN-US"> DISABLE</span>된다<span lang="EN-US">. </span>그러나 그밖의 다른 타입의 제약조건<span lang="EN-US"> NOT NULL, UNIQUE, PRIMARY KEY </span>조건들은 반드시<span lang="EN-US"> DISABLE </span>시켜준다<span lang="EN-US">. </span>작업 완료후에 수동으로<span lang="EN-US"> enable</span>시켜준다<span lang="EN-US">. </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p></o:p></span>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">3. </span>정렬된 순서로 데이타를<span lang="EN-US"> load</span>한다<span lang="EN-US">. </span>미리<span lang="EN-US"> sorting </span>된 데이타는 정렬에 필요한 공간<span lang="EN-US">temporary </span>영역 사용을 최소화한다<span lang="EN-US">. SQL*LOADER </span>옵션에서 <b><span lang="EN-US">SORTED INDEXES</span></b><span lang="EN-US"> </span>를<span lang="EN-US"> CONTROL</span>파일에 기술한다<span lang="EN-US">.</span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p></o:p></span>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">4. </span>인덱스<span lang="EN-US"> MAINTANCE </span>를 연기<span lang="EN-US">(DEFERRING)</span>하라<span lang="EN-US">. </span>인덱스는 데이타가<span lang="EN-US"> insert</span>하거나<span lang="EN-US"> delete </span>또는<span lang="EN-US"> key </span>컬럼이 업데이트 될때마다 자동으로<span lang="EN-US"> maintance </span>를 실시한다<span lang="EN-US">.</span>따라서 많은 양의 데이타를<span lang="EN-US"> load</span>할때 작업이 종료된 후에<span lang="EN-US"> maintance</span>를 한다면 좀더 빠를 것이다<span lang="EN-US">. <b>SKIP_INDEX_MAINTENANCE = TRUE</b><span style="">&nbsp; </span></span>를 설정하면 인덱스 세그먼트의 상태가 </font><span style="font-family: '',Times New Roman,'';" lang="EN-US">“</span><span lang="EN-US"><font face="바탕"> INDEX UNUSABLE</font></span><span style="font-family: '',Times New Roman,'';" lang="EN-US">”</span><font face="바탕">상태가 되어있더라도<span lang="EN-US"> LOADER</span>시작시에 인덱스<span lang="EN-US"> MAINTANCE</span>를<span lang="EN-US"> SKIP</span>한다<span lang="EN-US">. </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p></o:p></span>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">5. <b>UNRECOVERABLE</b> </span>을 사용해서<span lang="EN-US"> REDO </span>생성을<span lang="EN-US"> DISABLE</span>시킨다<span lang="EN-US">. </span>모든<span lang="EN-US"> recover </span>시에는<span lang="EN-US"> redo log</span>파일이 필요하다<span lang="EN-US">. </span>그러나<span lang="EN-US"> redo log </span>생성은 부하가 많기 때문에<span lang="EN-US"> disable</span>시키면 그만큼 속도는 빠르게 된다<span lang="EN-US">. </span>그러나<span lang="EN-US"> LOADER </span>작업 중간에<span lang="EN-US"> FAILURE </span>가 발생한다면 처음부터<span lang="EN-US"> load</span>작업을 다시 해야한다<span lang="EN-US">. </span>따라서 리두로그를 생성하지 않기때문에<span lang="EN-US"> loader </span>작업 후에는 반드시 백업하도록 한다<span lang="EN-US">.</span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US"></span></font></font>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">6. </span><b>단일 파티션</b>에<span lang="EN-US"> loading </span>하도록 한다<span lang="EN-US">. </span>파티션 테이블에 데이타<span lang="EN-US"> load</span>시 기타 사용자는 다른 파티션 에 접근 할 수 있다<span lang="EN-US">. APRIL </span>파티션을 로드시에<span lang="EN-US"> jan </span>에서<span lang="EN-US"> april </span>까지 쿼리를 실행하는 유저를 차단하지 못한다<span lang="EN-US">. </span>따라서 부하가 증가한다<span lang="EN-US">. </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p></o:p></span>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">7. <b>Parallel</b> </span>로 로드를 한다<span lang="EN-US">. </span>파티션으로 구성되어 있다면<span lang="EN-US"> parallel </span>로 다중 파티션을 로드할 수 있다<span lang="EN-US">. </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><o:p></o:p></span>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span lang="EN-US">8. <strong>STREAMSIZE</strong> </span>파라미터는<span lang="EN-US"> SQL*LOADER client </span>에서<span lang="EN-US"> oracle server</span>로 <span style="color: black;" lang="EN">direct path stream buffer</span><span lang="EN"> </span>의 크기<span lang="EN-US">(bytes)</span>를 지정한다<span lang="EN-US">. </span>기본값은<span lang="EN-US"> 256000 bytes </span>이다<span lang="EN-US">.<span style="">&nbsp; </span></span>또한<span lang="EN-US"> </span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span style="color: black;" lang="EN">columnarrayrows </span><span style="color: black;">또한 <span lang="EN">direct path column array </span>에 전송하는<span lang="EN"> row</span>의 갯수를 지정한다<span lang="EN">.<o:p></o:p></span></span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black;"><font size="2"><font face="바탕">기본값은<span lang="EN"> 5000</span>이다<span lang="EN">.<o:p></o:p></span></font></font></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black;" lang="EN"><o:p><font size="2" face="바탕">&nbsp;</font></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black;" lang="EN"><o:p></o:p></span>&nbsp;</p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span style="color: black;" lang="EN">9. </span><span style="color: black;">만일<span lang="EN"> load</span>되는 데이타가 중복되는 날자값을 많이 가지고 있다면 <b><span lang="EN">DATE_CACHE</span></b><span lang="EN"> </span>파라미터를 설정해서<span lang="EN"> DIRECT PATH LOAD</span>시에 더 나은 성능을 보장할 수 있다<span lang="EN">.<o:p></o:p></span></span></font></font></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><font face="바탕"><span style="color: black;" lang="EN">CACHE</span><span style="color: black;">에<span lang="EN"> CONVERION </span>되는<span lang="EN"> DATE </span>의 사이즈<span lang="EN">(</span>엔트리<span lang="EN">)</span>를 지정한다<span lang="EN">. (</span>기본값은<span lang="EN"> 1000) </span></span></font></font><span style="" lang="EN"><o:p></o:p></span></p><p>출처명:                             </p></td></tr></tbody></table></td></tr></tbody></table><br></div>
                        <div class="post-footer">
                            <button class="btn" onclick="button_click();">목록</button>
                        </div>
                    </div>
                </article>
            </main>
        </section>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

        <script>
            function button_click() {
                if(history.length > 1) {
                    history.back();
                } else {
                    document.location.href = "../../블로그포스트목록.html";
                }
            }
        </script>
    </body>
</html>
