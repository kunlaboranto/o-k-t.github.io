<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../css/result.css">

        <title>[펌] iconv / recode</title>
    </head>
    <body>
        <section id="wrap">
            <header>
                <h1 class="logo-title">
                    <span class="main"><img src="../../images/logo_egloos.png" width="105" height="34" alt="이글루스"></span>
                </h1>
                <div class="user-info">
                    <strong class="name">kun</strong> 님 (<strong class="name">okseop7</strong>)
                </div>
            </header>
            <main>
                <article class="post-wrap">
                    <!-- 게시물 정보 : 날짜 -->
                    <div class="post-info">
                        <span class="time">2008-05-13 06:19:38</span>
                    </div>
                    <!-- 게시물 제목 -->
                    <h2 class="post-title">[펌] iconv / recode</h2>
                    <!-- 게시물 본문 -->
                    <div class="post-body">
                        <div class="content"><h1><font size="2"><span style="font-weight: normal;">From : http://wiki.splitbrain.org/wiki:ko:utf8update</span></font></h1><br><br><h1><a name="dokuwiki_utf8_변환" id="dokuwiki_utf8_변환">DokuWiki <span class="search_hit">UTF</span><span class="search_hit">8</span> <span class="search_hit">변환</span></a></h1><div class="level1"><p><a href="http://wiki.splitbrain.org/wiki:ko:dokuwiki" class="wikilink1" title="wiki:ko:dokuwiki">DokuWiki</a>는 2005-02-06버전부터 데이타 저장을 위해 <span class="search_hit">UTF</span>-<span class="search_hit">8</span>을 사용하고 있습니다. <span class="search_hit">UTF</span>-<span class="search_hit">8</span>은 모든 종류의 언어를 설치된 같은 위키에 추가할 수 있도록 해줍니다.  만일 그 이전 버전을 사용한다면 데이타 파일을 <span class="search_hit">UTF</span>-<span class="search_hit">8</span>인코딩으로 <span class="search_hit">변환</span>할 필요가 있다는 것을 의미합니다.</p><p><strong>만일 DokuWiki를 처음 설치하는 것이라면 아무것도 할 필요가 없습니다.</strong> - DokuWiki는 알아서 잘 동작할 것입니다.</p><p>모든 이미 존재하는 페이지를 <span class="search_hit">UTF</span>-<span class="search_hit">8</span>로 인코딩할 수 있습니다.(예를 들어 <a href="http://man.cx/iconv" class="interwiki iw_man" title="http://man.cx/iconv">iconv</a>, <a href="http://man.cx/recode" class="interwiki iw_man" title="http://man.cx/recode">recode</a>를 사용하거나 아래의 “<span class="search_hit">UTF</span>-<span class="search_hit">8</span> <span class="search_hit">변환</span> 스크립트” 참조)  </p><p><img src="http://wiki.splitbrain.org/lib/images/smileys/icon_exclaim.gif" class="middle" alt=":!:"> 반드시 주의: 만일 직접 <span class="search_hit">변환</span> 작업을 한다면, DokuWiki가 <a href="http://www.php.net/rawurlencode" class="interwiki iw_phpfn" title="http://www.php.net/rawurlencode">url인코딩된</a> 파일 이름을 사용하므로 파일이름도 변경해야 할지도 모릅니다.</p><p>만일 <span class="search_hit">UTF</span><span class="search_hit">8</span><span class="search_hit">변환</span> 작업이 끝난후 검색 기능이 아주 느리거나 심지어 결과를 화면에 보여주지도 못한다면 PHP가 <em>–enable-mbstring</em> (<acronym title="Hypertext Preprocessor">PHP</acronym> 4.3.0+) 옵션으로 컴파일되었는지 확인하기 바랍니다.</p></div><div class="secedit"><div class="no"><input name="do" value="edit" type="hidden"><input name="lines" value="1-1163" type="hidden"><input name="rev" value="1170811358" type="hidden"><input value="Edit" class="button" title="DokuWiki UTF8 변환" type="submit"></div><input value="1210626288 218.237.94.156" name="bb2_screener_" type="hidden"></div><h2><a name="utf-8_변환_스크립트" id="utf-8_변환_스크립트"><span class="search_hit">UTF</span>-<span class="search_hit">8</span> <span class="search_hit">변환</span> 스크립트</a></h2><div class="level2"><p><img src="http://wiki.splitbrain.org/lib/images/smileys/icon_exclaim.gif" class="middle" alt=":!:"> <strong>이 스크립트는 업데이트한지 오래되었기 때문에 DokuWiki 현 버전과 호환이 안될 수도 있습니다.</strong>만일 동작이 안된다면 아래 bash스크립트를 보기 바랍니다. – 어느 버전까지 호환이 되나?</p><p>데이타 파일을 <span class="search_hit">UTF</span>-<span class="search_hit">8</span>로 바꾸는 가장 쉬운 방법은 “dokuwiki-convert” 스크립트를 사용하는 방법입니다.<a href="http://www.splitbrain.org/Programming/PHP/DokuWiki/dokuwiki-convert.tgz" class="urlextern" title="http://www.splitbrain.org/Programming/PHP/DokuWiki/dokuwiki-convert.tgz">http://www.splitbrain.org/Programming/PHP/DokuWiki/dokuwiki-convert.tgz</a></p><p>이 스크립트는 데이타 디렉토리와 그 아래의 모든 파일에 대한 <span class="search_hit">변환</span> 작업을 수행합니다.</p></div><div class="secedit"><div class="no"><input name="do" value="edit" type="hidden"><input name="lines" value="1164-1776" type="hidden"><input name="rev" value="1170811358" type="hidden"><input value="Edit" class="button" title="UTF-8 변환 스크립트" type="submit"></div><input value="1210626288 218.237.94.156" name="bb2_screener_" type="hidden"></div><h3><a name="사용법" id="사용법">사용법</a></h3><div class="level3"><ol><li class="level1"><div class="li"> 요구 사항: <a href="http://wiki.splitbrain.org/wiki:ko:acl" class="wikilink1" title="wiki:ko:acl">ACL</a>기능을 사용하거나 <a href="http://httpd.apache.org/docs/howto/htaccess.html" class="urlextern" title="http://httpd.apache.org/docs/howto/htaccess.html">.htaccess</a> 사용하여 모든 사용자가 Wiki에 쓰는 것을 금지시켜야 합니다.</div></li><li class="level1"><div class="li"> 모든 파일을 백업합니다. <img src="http://wiki.splitbrain.org/lib/images/smileys/icon_exclaim.gif" class="middle" alt=":!:"></div></li><li class="level1"><div class="li"> DokuWiki를 새로운 버전을 <a href="http://wiki.splitbrain.org/wiki:ko:install" class="wikilink1" title="wiki:ko:install">설치</a>하여 업그레이드</div></li><li class="level1"><div class="li"> 웹서버에 dokuwiki-convert설치 <sup><a href="http://wiki.splitbrain.org/wiki:ko:utf8update#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup></div></li><li class="level1"><div class="li"> <code>dokuwiki-convert/index.php</code>파일을 수정합니다.</div><ul><li class="level2"><div class="li"> 파일 가장 상단 부분에 DokuWiki 절대 경로 설정합니다.</div></li></ul></li></ol><p>      예를 들어 <code>/var/www/dokuwiki/</code></p><ol><li class="level1"><div class="li"> 웹브라우저로 스크립트를 실행합니다.</div></li><li class="level1"><div class="li"> 현재 파일 인코딩을 선택한 후 <span class="search_hit">변환</span> 버튼을 클릭합니다. </div></li></ol></div><div class="secedit"><div class="no"><input name="do" value="edit" type="hidden"><input name="lines" value="1777-2528" type="hidden"><input name="rev" value="1170811358" type="hidden"><input value="Edit" class="button" title="사용법" type="submit"></div><input value="1210626288 218.237.94.156" name="bb2_screener_" type="hidden"></div><h3><a name="추가_주의사항" id="추가_주의사항">추가 주의사항</a></h3><div class="level3"><ul><li class="level1"><div class="li"> 스크립트는 이전 버전(old revision)들을 <em class="u">바꾸지 않습니다.</em></div><ul><li class="level2"><div class="li"> 지우거나 직접 바꿔야 합니다.</div></li></ul></li><li class="level1"><div class="li"> 스크립트는 changes.log을 <em class="u">바꾸지 않습니다.</em></div><ul><li class="level2"><div class="li"> 지우거나 직접 바꿔야 합니다.</div></li></ul></li><li class="level1"><div class="li"> 스크립트는 안전모드(safemode)에서 실행된다면 시간초과로 작업을 완료하지 못할 수도 있습니다.</div><ul><li class="level2"><div class="li"> 완료 메시지가 나올 때까지 여러번 실행합니다.</div></li><li class="level2"><div class="li"> 만일 정상적으로 안된다면 직접 바꿔야 합니다.</div></li></ul></li><li class="level1"><div class="li"> 영문 위키에선 많은 파일들은 무시됩니다.</div><ul><li class="level2"><div class="li"> US-ASCII는 <span class="search_hit">UTF</span>-<span class="search_hit">8</span>의 하위셋이므로 <span class="search_hit">변환</span>작업이 불필요합니다.</div></li></ul></li></ul></div><div class="secedit"><div class="no"><input name="do" value="edit" type="hidden"><input name="lines" value="2529-3216" type="hidden"><input name="rev" value="1170811358" type="hidden"><input value="Edit" class="button" title="추가 주의사항" type="submit"></div><input value="1210626288 218.237.94.156" name="bb2_screener_" type="hidden"></div><h2><a name="iconv를_사용한_변환_bash_스크립트" id="iconv를_사용한_변환_bash_스크립트">iconv를 사용한 <span class="search_hit">변환</span> bash 스크립트</a></h2><div class="level2"><blockquote><div class="no"> 아래 코드는 iconv를 사용해서 직접 인코딩 <span class="search_hit">변환</span>하는 경우 도움이 될 수 있습니다.</div></blockquote><p>예제 코드는 data 디렉토리 내의 파일들에 대해 <span class="search_hit">변환</span>작업을 합니다.( chanage.log와 old revisions <em class="u">제외</em> ) data디렉토리에서 이 스크립트를 실행해보기 바랍니다.</p><pre class="code bash"><pre class="code bash"><span class="co0">#!/bin/bash</span><br><span class="re2">FROM=</span>latin1<br><span class="re2">TO=</span><span class="search_hit">utf</span><span class="search_hit">8</span><br><span class="re2">ICONV=</span><span class="st0">"iconv -f $FROM -t $TO"</span><br>&nbsp;<br><span class="co0"># Convert changes.log</span><br><span class="kw2">cp</span> changes.log changes.log.bak<br><span class="re1">$ICONV</span> <span class="sy0">&lt;</span> changes.log.bak <span class="sy0">&gt;</span> changes.log<br><span class="kw2">rm</span> changes.log.bak<br>&nbsp;<br><span class="co0"># Convert pages/ subdir</span><br><span class="kw2">find</span> pages<span class="sy0">/</span> -<span class="kw3">type</span> f -name <span class="st0">"*.txt"</span> <span class="sy0">|</span> <span class="kw1">while</span> <span class="kw2">read</span> fn; <span class="kw1">do</span><br><span class="kw2">cp</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt; <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak<br><span class="re1">$ICONV</span> <span class="sy0">&lt;</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak <span class="sy0">&gt;</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;<br><span class="kw2">rm</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak<br><span class="kw1">done</span><br>&nbsp;<br><span class="co0"># Convert attic/ subdir (where the script assumes gzip compression)</span><br><span class="kw2">find</span> attic<span class="sy0">/</span> -<span class="kw3">type</span> f -name <span class="st0">"*.txt.gz"</span> <span class="sy0">|</span> <span class="kw1">while</span> <span class="kw2">read</span> fn; <span class="kw1">do</span><br><span class="kw2">cp</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt; <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak<br><span class="br0">{</span> <span class="kw2">gzip</span> -<span class="kw3">cd</span> <span class="sy0">|</span> <span class="re1">$ICONV</span> <span class="sy0">|</span> <span class="kw2">gzip</span> -c; <span class="br0">}</span> <span class="sy0">&lt;</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak <span class="sy0">&gt;</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;<br><span class="kw2">rm</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak<br><span class="kw1">done</span></span></span></span></span></span></span></span></span></span></span></pre></pre><blockquote><div class="no"> WindowsXP Pro(Windows 2000 Pro 포함)의 Cygwin환경에서 ISO<span class="search_hit">8</span><span class="search_hit">8</span>59-15 (pt_PT) 자료를 위 스크립트로 <span class="search_hit">변환</span>하기 위해 가장 처음 부분을 아래 처럼 바꿨습니다:</div></blockquote><pre class="code bash"><pre class="code bash"><span class="co0">#!/bin/bash</span><br><span class="re2">FROM=</span>ISO<span class="search_hit">8</span><span class="search_hit">8</span>59<span class="nu0">-15</span><br><span class="re2">TO=</span><span class="search_hit">UTF</span><span class="nu0">-<span class="search_hit">8</span></span></pre></pre><blockquote><div class="no"> 다른 모든 부분은 그대로이고 스크립트 실행이 성공적입니다. DokuWiki 지원 사이트 두 곳을 5분도 안되서 바꾸었습니다. Cygwin-Bash 프롬프트에서 아래 명령을 사용해 정확한 인코딩 이름을 알아냈습니다:</div></blockquote><pre class="code bash"><pre class="code bash">iconv -l</pre></pre><blockquote><div class="no">  <code>data/</code> 내 파일의 timestamp를 유지하도록 스크립트를 수정했습니다.  — <em><a href="mailto:andrea%20%5Bat%5D%20gualano%20%5Bdot%5D%20net" class="mail JSnocheck" title="andrea [at] gualano [dot] net">Andrea</a> 2005-11-04 11:57</em></div></blockquote><pre class="code bash"><pre class="code bash"><span class="co0"># Convert data/ subdir</span><br><span class="kw2">find</span> data<span class="sy0">/</span> -<span class="kw3">type</span> f -name <span class="st0">"*.txt"</span> <span class="sy0">|</span> <span class="kw1">while</span> <span class="kw2">read</span> fn; <span class="kw1">do</span><br>        <span class="kw2">cp</span> -p <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt; <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak<br>        <span class="re1">$ICONV</span> <span class="sy0">&lt;</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak <span class="sy0">&gt;</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;<br>        <span class="kw2">touch</span> -r <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;<br><br>        <span class="kw2">rm</span> <span class="re0">$<span class="br0">{</span>fn<span class="br0">}</span><span class="sy0">|</span>&gt;.bak<br><span class="kw1">done</span></span></span></span></span></span></span></span></pre></pre></div><div class="secedit"><div class="no"><input name="do" value="edit" type="hidden"><input name="lines" value="3217-5062" type="hidden"><input name="rev" value="1170811358" type="hidden"><input value="Edit" class="button" title="iconv를 사용한 변환 bash 스크립트" type="submit"></div><input value="1210626288 218.237.94.156" name="bb2_screener_" type="hidden"></div><h2><a name="editpad_lite를_사용해서_수작업으로_변환" id="editpad_lite를_사용해서_수작업으로_변환">editpad lite를 사용해서 수작업으로 <span class="search_hit">변환</span></a></h2><div class="level2"><p>위 스크립트가 정상적으로 동작하지 않아서 <a href="http://www.editpadpro.com/editpadlite.html" class="urlextern" title="http://www.editpadpro.com/editpadlite.html">edit pad</a>의 “ansi&gt;<span class="search_hit">utf</span>-<span class="search_hit">8</span> <span class="search_hit">변환</span>”기능을 사용해서 직접 바꾸었습니다.</p></div><div class="secedit"><div class="no"><input name="do" value="edit" type="hidden"><input name="lines" value="5063-5315" type="hidden"><input name="rev" value="1170811358" type="hidden"><input value="Edit" class="button" title="editpad lite를 사용해서 수작업으로 변환" type="submit"></div><input value="1210626288 218.237.94.156" name="bb2_screener_" type="hidden"></div><h2><a name="번역" id="번역">번역</a></h2><p><em>english version: dokuwiki-2006-11-06. </em></p><p><em>Add your email here if you created translated or modified whole or part of this page.</em></p><br><br><br><a href="http://altibase.egloos.com/1696649" title="">[펌] NLS 변환, iconv -c -f euc-kr -t utf-8 ..</a><br><br><br></div>
                        <div class="post-footer">
                            <button class="btn" onclick="button_click();">목록</button>
                        </div>
                    </div>
                </article>
            </main>
        </section>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

        <script>
            function button_click() {
                if(history.length > 1) {
                    history.back();
                } else {
                    document.location.href = "../../블로그포스트목록.html";
                }
            }
        </script>
    </body>
</html>
