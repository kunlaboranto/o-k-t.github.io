<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../css/result.css">

        <title>[펌] std:list가 쓰레드 세이프인가? </title>
    </head>
    <body>
        <section id="wrap">
            <header>
                <h1 class="logo-title">
                    <span class="main"><img src="../../images/logo_egloos.png" width="105" height="34" alt="이글루스"></span>
                </h1>
                <div class="user-info">
                    <strong class="name">kun</strong> 님 (<strong class="name">okseop7</strong>)
                </div>
            </header>
            <main>
                <article class="post-wrap">
                    <!-- 게시물 정보 : 날짜 -->
                    <div class="post-info">
                        <span class="time">2007-06-18 13:19:10</span>
                    </div>
                    <!-- 게시물 제목 -->
                    <h2 class="post-title">[펌] std:list가 쓰레드 세이프인가? </h2>
                    <!-- 게시물 본문 -->
                    <div class="post-body">
                        <div class="content">http://oopsla.snu.ac.kr/~sjjung/stl/<br><br><br>From : <span id="content1" style="font-family: true_0;"><a class="con_link" href="http://www.codeguru.com/forum/showthread.php?t=262668" target="_blank">http://www.codeguru.com/forum/showthread.php?t=262668</a> </span><br><br><div class="page" style="width: 100%; text-align: left;"><div style="padding: 0px 5px;"><div style="padding: 0px 0px 3px;"><table class="tborder" id="post806835" align="center" border="0" cellpadding="3" cellspacing="1" width="100%"><tbody><tr><td class="thead"><div class="normal"><a class="con_link" target="_blank" name="post806835"><img class="inlineimg" title="Old" alt="Old" src="http://www.codeguru.com/forum/images/statusicon/post_old.gif" border="0"></a> 09-08-2003, 07:45 AM <!-- / status icon and date --></div></td></tr><tr><td class="alt2" style="padding: 0px;"><!-- user info --><table border="0" cellpadding="0" cellspacing="3" width="100%"><tbody><tr><td class="alt2"><a class="con_link" href="http://www.codeguru.com/forum/member.php?u=96056" target="_blank"><img title="Timbro's Avatar" alt="Timbro's Avatar" src="http://www.codeguru.com/forum/image.php?u=96056&amp;dateline=1056353361" border="0"></a></td><td nowrap="nowrap"><div id="postmenu_806835" style="cursor: pointer;"><a class="con_link" href="http://www.codeguru.com/forum/member.php?u=96056" target="_blank">Timbro</a> <img class="inlineimg" title="Timbro is offline" alt="Timbro is offline" src="http://www.codeguru.com/forum/images/statusicon/user_offline.gif" border="0"> <!-- badtag vbmenu_register("postmenu_806835", true);  :badtag --></div><div class="smallfont">Member</div></td><td width="100%">&nbsp;</td><td nowrap="nowrap" valign="top"><div class="smallfont"><div>Join Date: Jun 2003, Posts: 53 </div><div>Reputation: <img class="inlineimg" title="Timbro is an unknown quantity at this point (&lt;10)" alt="Timbro is an unknown quantity at this point (&lt;10)" src="http://www.codeguru.com/forum/images/reputation/reputation_pos.gif" border="0"></div><div></div></div></td></tr></tbody></table><!-- / user info --></td></tr><tr><td class="alt1"><!-- message, attachments, sig --><!-- icon and title --><div class="smallfont"><strong>std:list....</strong> </div><hr style="color: rgb(209, 209, 225);" size="1"><!-- / icon and title --><!-- message --><div>Morning,<br>i ha ve a class that inherits from std:list....<br><br>Question : How can i transform this class Thread Safe ???<br>i have to put all the operation that a std:list can do in critical section.</div><!-- / message --><div align="right"><!-- controls --><a class="con_link" href="http://www.codeguru.com/forum/newreply.php?do=newreply&amp;p=806835" target="_blank"><img title="Reply With Quote" alt="Reply With Quote" src="http://www.codeguru.com/forum/images/buttons/quote.gif" border="0"></a> <!-- / controls --></div><!-- message, attachments, sig --></td></tr></tbody></table><!-- post 806835 popup menu --><div class="vbmenu_popup" id="postmenu_806835_menu" style="display: none; left: 0px; top: 0px;"><table border="0" cellpadding="4" cellspacing="1"><tbody><tr><td class="thead">Timbro</td></tr><tr><td class="vbmenu_option" style="cursor: default;"><a class="con_link" href="http://www.codeguru.com/forum/member.php?userid=96056" target="_blank">View Public Profile</a></td></tr><tr><td class="vbmenu_option" style="cursor: default;"><a class="con_link" href="http://www.codeguru.com/forum/private.php?do=newpm&amp;userid=96056" target="_blank">Send a private message to Timbro</a></td></tr><tr><td class="vbmenu_option" style="cursor: default;"><a class="con_link" href="http://www.codeguru.com/forum/sendmessage.php?do=mailmember&amp;u=96056" target="_blank">Send email to Timbro</a></td></tr><tr><td class="vbmenu_option" style="cursor: default;"><a class="con_link" href="http://www.codeguru.com/forum/search.php?do=finduser&amp;userid=96056" target="_blank">Find all posts by Timbro</a></td></tr><tr><td class="vbmenu_option" style="cursor: default;"><a class="con_link" href="http://www.codeguru.com/forum/profile.php?do=addlist&amp;userlist=buddy&amp;u=96056" target="_blank">Add Timbro to Your Buddy List</a></td></tr></tbody></table></div><!-- / post 806835 popup menu --></div></div></div><!-- / close content container --><!-- / post #806835 --><!-- post #806862 --><!-- open content container --><div align="center"><div class="page" style="width: 100%; text-align: left;"><div style="padding: 0px 5px;"><div style="padding: 0px 0px 3px;"><!-- this is not the last post shown on the page --><table class="tborder" id="post806862" align="center" border="0" cellpadding="3" cellspacing="1" width="100%"><tbody><tr><td class="thead"><div class="normal" style="float: right;">&nbsp; #<a class="con_link" href="http://www.codeguru.com/forum/showpost.php?p=806862&amp;postcount=2" target="_blank"><strong>2</strong></a> &nbsp; <!-- BLJ --><!-- /BLJ --></div><div class="normal"><!-- status icon and date --><a class="con_link" target="_blank" name="post806862"><img class="inlineimg" title="Old" alt="Old" src="http://www.codeguru.com/forum/images/statusicon/post_old.gif" border="0"></a> 09-08-2003, 08:29 AM <!-- / status icon and date --></div></td></tr><tr><td class="alt2" style="padding: 0px;"><!-- user info --><table border="0" cellpadding="0" cellspacing="3" width="100%"><tbody><tr><td nowrap="nowrap"><div id="postmenu_806862" style="cursor: pointer;"><a class="con_link" href="http://www.codeguru.com/forum/member.php?u=1549" target="_blank">Paul McKenzie</a> <img class="inlineimg" title="Paul McKenzie is offline" alt="Paul McKenzie is offline" src="http://www.codeguru.com/forum/images/statusicon/user_offline.gif" border="0"> <!-- badtag vbmenu_register("postmenu_806862", true);  :badtag --></div><div class="smallfont">Elite Member</div><div class="smallfont"><b>Power Poster</b></div></td><td width="100%">&nbsp;</td><td nowrap="nowrap" valign="top"><div class="smallfont"><div>Join Date: Apr 1999, Posts: 13,587 </div><div>Reputation: <img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_pos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_pos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_pos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_pos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_pos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_highpos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_highpos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_highpos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_highpos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_highpos.gif" border="0"><img class="inlineimg" title="Paul McKenzie has a reputation beyond repute (3000+)" alt="Paul McKenzie has a reputation beyond repute (3000+)" src="http://www.codeguru.com/forum/images/reputation/reputation_highpos.gif" border="0"></div><div></div></div></td></tr></tbody></table><!-- / user info --></td></tr><tr><td class="alt1"><!-- message, attachments, sig --><!-- icon and title --><div class="smallfont"><strong>Re: std:list....</strong> </div><hr style="color: rgb(209, 209, 225);" size="1"><!-- / icon and title --><!-- message --><div><div style="margin: 5px 20px 20px;"><div class="smallfont" style="margin-bottom: 2px;">Quote:</div><table border="0" cellpadding="3" cellspacing="0" width="100%"><tbody><tr><td class="alt2" style="border: 1px inset ;"><i>Originally posted by Timbro </i><br>Morning,<br>i ha ve a class that inherits from std:list....<br></td></tr></tbody></table></div>You should not inherit from std::list or any of the STL container classes. The reason is that std::list does not have a virtual destructor. This may cause your program to exhibit undefined behavior if your code (or someone else that uses your class) intends to use any kind of polymorphism (especially deleting a derived std::list through the base class pointer) with the list class.<br><br>Even if you say "I'm not using polymorphism", that is today -- that may not be the case tomorrow, and it may not be the case for someone else who may use your class. Just don't derive from std::list. Instead, use containership, not inheritance, and expose the functions that you want to expose. Here is an example:<br><div style="margin: 5px 20px 20px;"><div class="smallfont" style="margin-bottom: 2px;">Code:<div style="margin: 5px 20px 20px;"><div dir="ltr" style="text-align: left;">-----------------------------------------------------------<br>#include &lt;list&gt;<br><br>// Note:&nbsp; No inheritance is done here<br>template &lt;typename T&gt;<br>class MySafeListClass<br>{<br>&nbsp;&nbsp;&nbsp; //...<br>&nbsp;&nbsp;&nbsp; private:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::list&lt;T&gt;&nbsp; m_TheList;&nbsp; // The list class<br><br>&nbsp;&nbsp;&nbsp; public:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void push_back( T val ) {m_TheList.push_back( T ); }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // etc...<br>};<br><br>-----------------------------------------------------------</div></div></div></div><div style="margin: 5px 20px 20px;"><div class="smallfont" style="margin-bottom: 2px;">Quote:</div><table border="0" cellpadding="3" cellspacing="0" width="100%"><tbody><tr><td class="alt2" style="border: 1px inset ;">Question : How can i transform this class Thread Safe ???<br>i have to put all the operation that a std:list can do in critical section. </td></tr></tbody></table></div>With the code above, you can make any of the member functions thread safe.<br><br>Regards,<br><br>Paul McKenzie</div></td></tr></tbody></table></div></div></div></div></div>
                        <div class="post-footer">
                            <button class="btn" onclick="button_click();">목록</button>
                        </div>
                    </div>
                </article>
            </main>
        </section>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

        <script>
            function button_click() {
                if(history.length > 1) {
                    history.back();
                } else {
                    document.location.href = "../../블로그포스트목록.html";
                }
            }
        </script>
    </body>
</html>
