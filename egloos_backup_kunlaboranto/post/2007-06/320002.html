<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../css/result.css">

        <title>[펌] xstring class - handle both ASCII and UNICODE strings </title>
    </head>
    <body>
        <section id="wrap">
            <header>
                <h1 class="logo-title">
                    <span class="main"><img src="../../images/logo_egloos.png" width="105" height="34" alt="이글루스"></span>
                </h1>
                <div class="user-info">
                    <strong class="name">kun</strong> 님 (<strong class="name">okseop7</strong>)
                </div>
            </header>
            <main>
                <article class="post-wrap">
                    <!-- 게시물 정보 : 날짜 -->
                    <div class="post-info">
                        <span class="time">2007-06-18 13:24:58</span>
                    </div>
                    <!-- 게시물 제목 -->
                    <h2 class="post-title">[펌] xstring class - handle both ASCII and UNICODE strings </h2>
                    <!-- 게시물 본문 -->
                    <div class="post-body">
                        <div class="content"><span id="intelliTXT" name="intelliTxt">&nbsp;<h2>Introduction</h2><p nd="2"><code nd="1"><span style="FONT-FAMILY: 굴림체">XString</span></code> or the "Extended String Class" is a generic C++ class that can handle both ASCII and UNICODE strings. It combines features of the Java <code nd="3"><span style="FONT-FAMILY: 굴림체">String</span></code> and <code nd="4"><span style="FONT-FAMILY: 굴림체">StringBuffer</span></code> classes. Like the Java "String" class, the <code nd="5"><span style="FONT-FAMILY: 굴림체">XString</span></code> class has the functions i<code nd="6"><span style="FONT-FAMILY: 굴림체">ndexOf(), lastIndexOf(), startsWith(), endsWith() </span></code>and<code nd="7"><span style="FONT-FAMILY: 굴림체">equals()</span></code>. Like the Java "<code nd="8"><span style="FONT-FAMILY: 굴림체">StringBuffer</span></code>" class, you can insert, replace or remove characters in an XString. </p><h2>Background </h2><p nd="9">The purpose of <code nd="10"><span style="FONT-FAMILY: 굴림체">XString</span></code> is to provide a single and easy interface to handle both ASCII and UNICODE strings. This class will simplify the development of real international software. </p><h2>Using the code</h2><p nd="11">The <code nd="12"><span style="FONT-FAMILY: 굴림체">XString</span></code> class is declared in "<i>xstring.h</i>" and implemented in "<i>xstring.cpp</i>". Include both these files in your project. The <code nd="13"><span style="FONT-FAMILY: 굴림체">XString</span></code> class is part of a namespace called "<code nd="14"><span style="FONT-FAMILY: 굴림체">openutils</span></code>".</p><pre nd="16"><span class="cpp-preprocessor" nd="15">#include "xstring.h"</span>using <span class="cpp-keyword">namespace</span> openutils;</pre>The following code create two <code nd="18"><span style="FONT-FAMILY: 굴림체">XString</span></code>s, one with ASCII encoding and the other with UNICODE encoding. <pre nd="19">XString ascii = <span class="cpp-string" nd="20">"Hello ASCII world !"</span>; <span class="cpp-comment">// ASCII string</span>XString unicode = L<span class="cpp-string" nd="21">"Hello UNICODE"</span> world!"; <span class="cpp-comment">// UNICODE string</span></pre><p nd="22">You can call any of the following constructors to create an <code nd="23"><span style="FONT-FAMILY: 굴림체">XString </span></code>object:</p><table cellspacing="1" cellpadding="1" width="100%" border="1"><tbody><tr><td><h4><code><span style="FONT-FAMILY: 굴림체">XString </span></code>Constructors</h4></td></tr><tr><td nd="25"><code nd="24"><span style="FONT-FAMILY: 굴림체">XString()</span></code> Creates an <code nd="26"><span style="FONT-FAMILY: 굴림체">XString</span></code> object with ASCII encoding. </td></tr><tr><td nd="28"><code nd="27"><span style="FONT-FAMILY: 굴림체">XString(<span class="cpp-keyword">const</span> <span class="cpp-keyword">char</span>* str) </span></code>Construct a new <code nd="29"><span style="FONT-FAMILY: 굴림체">XString</span></code> by converting the specified array of chars using the ASCII character encoding. </td></tr><tr><td nd="31"><code nd="30"><span style="FONT-FAMILY: 굴림체">XString(<span class="cpp-keyword">const</span> wchar_t* str)</span></code> Construct a new <code nd="32"><span style="FONT-FAMILY: 굴림체">XString</span></code> by converting the specified array of chars using UNICODE character encoding. </td></tr><tr><td nd="34"><code nd="33"><span style="FONT-FAMILY: 굴림체">XString(<span class="cpp-keyword">const</span> XString&amp; str) </span></code>Construct a new <code nd="35"><span style="FONT-FAMILY: 굴림체">XString</span></code> by copying the contents of the argument.</td></tr><tr><td nd="37"><code nd="36"><span style="FONT-FAMILY: 굴림체">XString(XString str,<span class="cpp-keyword">int</span> offset,<span class="cpp-keyword">int</span> length)</span></code> Construct a new <code nd="38"><span style="FONT-FAMILY: 굴림체">XString</span></code> by converting the value of the specified <code nd="39"><span style="FONT-FAMILY: 굴림체">XString</span></code> using it's own character encoding.</td></tr><tr><td nd="41"><code nd="40"><span style="FONT-FAMILY: 굴림체">XString(<span class="cpp-keyword">const</span> <span class="cpp-keyword">char</span>* str,<span class="cpp-keyword">int</span> offset,<span class="cpp-keyword">int</span> length)</span></code> Construct a new <code nd="42"><span style="FONT-FAMILY: 굴림체">XString</span></code> by converting the specified char subarray, using ASCII character encoding.</td></tr><tr><td nd="44"><code nd="43"><span style="FONT-FAMILY: 굴림체">XString(<span class="cpp-keyword">const</span> wchar_t* str,<span class="cpp-keyword">int</span> offset,<span class="cpp-keyword">int</span> length)</span></code> Construct a new <code nd="45"><span style="FONT-FAMILY: 굴림체">XString</span></code> by converting the specified char subarray, using UNICODE character encoding.</td></tr></tbody></table><p nd="46">You can also create <code nd="47"><span style="FONT-FAMILY: 굴림체">XString</span></code>s by reading contents from text files: </p><pre nd="48">XString ascii;ascii.readFromFile(<span class="cpp-string" nd="49">"data.txt"</span>);printf(<span class="cpp-string" nd="50">"%s"</span>,ascii); <span class="cpp-comment">// the default encoding is ASCII, </span> <span class="cpp-comment">//so "data.txt" must be a file saved</span> <span class="cpp-comment">// in the ASCII format.</span>XString unicode;unicode.setEncoding(XString::UNICODE);unicode.readFromFile(<span class="cpp-string" nd="51">"dataU.txt"</span>);wprintf(L<span class="cpp-string" nd="52">"%s"</span>,unicode.wvalue()); <span class="cpp-comment">//"dataU.txt" must be a file saved</span>  <span class="cpp-comment">// in the UNICODE format.ther operations possible on</span> <span class="cpp-comment">// an XString are listed below. Note that some functions </span>will <span class="cpp-keyword">throw</span> an XStringException, which is also declared in <span class="cpp-string" nd="53">"xstring.h"</span>.</pre><table cellspacing="1" cellpadding="1" width="100%" border="1"><tbody><tr><td><h4><code><span style="FONT-FAMILY: 굴림체">XString </span></code>Functions</h4></td></tr><tr><td nd="55"><code nd="54"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">char</span> charAt(<span class="cpp-keyword">int</span> index)</span></code> Returns the character at "<code nd="56"><span style="FONT-FAMILY: 굴림체">index</span></code>". The call will succeed only if the <code nd="57"><span style="FONT-FAMILY: 굴림체">XString</span></code> object has ASCII encoding. Throws an <code nd="58"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if called on an object with UNICODE encoding.</td></tr><tr><td nd="60"><code nd="59"><span style="FONT-FAMILY: 굴림체">wchar_t wcharAt(<span class="cpp-keyword">int</span> index)</span></code> Returns the character at "<code nd="61"><span style="FONT-FAMILY: 굴림체">index</span></code>". The call will succeed only if the <code nd="62"><span style="FONT-FAMILY: 굴림체">XString</span></code> object has UNICODE encoding. Throws an <code nd="63"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if called on an object with ASCII encoding.</td></tr><tr><td nd="65"><code nd="64"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">void</span> concat(<span class="cpp-keyword">const</span> XString&amp; str)</span></code> Appends the given <code nd="66"><span style="FONT-FAMILY: 굴림체">XString</span></code> to this <code nd="67"><span style="FONT-FAMILY: 굴림체">XString</span></code>.Throws an <code nd="68"><span style="FONT-FAMILY: 굴림체">XStringException </span></code>if the argument has an encoding different from this <code nd="69"><span style="FONT-FAMILY: 굴림체">XString</span></code>.</td></tr><tr><td nd="71"><code nd="70"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> indexOf(<span class="cpp-keyword">char</span> c)</span></code> Returns the index of the first occurrence of the specified char within this <code nd="72"><span style="FONT-FAMILY: 굴림체">XString</span></code>. Returns -1 if the char was not found.</td></tr><tr><td nd="74"><code nd="73"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> indexOf(<span class="cpp-keyword">char</span> c,<span class="cpp-keyword">int</span> offset)</span></code> Returns the index of the first occurrence of the specified char within this <code nd="75"><span style="FONT-FAMILY: 굴림체">XString</span></code>. The search is performed starting at "offset". Returns -1 if the char was not found. Throws an <code nd="76"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified as offset.</td></tr><tr><td nd="78"><code nd="77"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> indexOf(wchar_t c)</span></code> Returns the index of the first occurrence of the specified char within this <code nd="79"><span style="FONT-FAMILY: 굴림체">XString</span></code>. Returns -1 if the char was not found. Works only with UNICODE <code nd="80"><span style="FONT-FAMILY: 굴림체">XString</span></code>s.</td></tr><tr><td nd="82"><code nd="81"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> indexOf(wchar_t c,<span class="cpp-keyword">int</span> offset)</span></code> Returns the index of the first occurrence of the specified char within this <code nd="83"><span style="FONT-FAMILY: 굴림체">XString</span></code>. The search is performed starting at "offset".Returns -1 if the char was not found. Works only with UNICODE <code nd="84"><span style="FONT-FAMILY: 굴림체">XString</span></code>s. Throws an <code nd="85"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified as offset.</td></tr><tr><td nd="87"><code nd="86"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> indexOf(XString str)</span></code> Returns the index within this xstring of the first occurrence of the specified substring.</td></tr><tr><td nd="89"><code nd="88"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> indexOf(XString str,<span class="cpp-keyword">int</span> offset)</span></code> Returns the index within this string of the first occurrence of the specified substring, starting at the specified offset. Throws an <code nd="90"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified as offset.</td></tr><tr><td nd="92"><code nd="91"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> lastIndexOf(<span class="cpp-keyword">char</span> c)</span></code> Returns the index within this string of the last occurrence of the specified character.</td></tr><tr><td nd="94"><code nd="93"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> lastIndexOf(<span class="cpp-keyword">char</span> c,<span class="cpp-keyword">int</span> offset)</span></code> Returns the index within this string of the last occurrence of the specified character, searching backward starting at the specified index. Throws an <code nd="95"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified as offset.</td></tr><tr><td nd="97"><code nd="96"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> lastIndexOf(wchar_t c)</span></code> Returns the index within this string of the last occurrence of the specified character. Works only with UNICODE <code nd="98"><span style="FONT-FAMILY: 굴림체">XStrings</span></code>.</td></tr><tr><td nd="100"><code nd="99"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> lastIndexOf(wchar_ c,<span class="cpp-keyword">int</span> offset)</span></code> Returns the index within this string of the last occurrence of the specified character, searching backward starting at the specified index. Works only with UNICODE <code nd="101"><span style="FONT-FAMILY: 굴림체">XString</span></code>s. Throws an <code nd="102"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified as offset.</td></tr><tr><td nd="104"><code nd="103"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> lastIndexOf(XString str)</span></code> Returns the index within this xstring of the last occurrence of the specified substring.</td></tr><tr><td nd="106"><code nd="105"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> lastIndexOf(XString str,<span class="cpp-keyword">int</span> offset)</span></code> Returns the index within this string of the last occurrence of the specified substring, starting at the specified offset. Throws an <code nd="107"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified as offset.</td></tr><tr><td nd="109"><code nd="108"><span style="FONT-FAMILY: 굴림체">XString substring(<span class="cpp-keyword">int</span> beginIndex)</span></code> Returns a new string that is a substring of this string. </td></tr><tr><td nd="111"><code nd="110"><span style="FONT-FAMILY: 굴림체">XString substring(<span class="cpp-keyword">int</span> beginIndex,<span class="cpp-keyword">int</span> endIndex)</span></code> Returns a new string that is a substring of this string. Throws an <code nd="112"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if an invalid index is specified.</td></tr><tr><td nd="114"><code nd="113"><span style="FONT-FAMILY: 굴림체">XString insert(XString str,<span class="cpp-keyword">int</span> insertAt)</span></code> Inserts the specified string to this string at the given index. Returns the new string.</td></tr><tr><td nd="116"><code nd="115"><span style="FONT-FAMILY: 굴림체">XString replace(XString str,<span class="cpp-keyword">int</span> insertAt)</span></code> Replaces characters of this string with the specified string at the given index .Returns the new string.</td></tr><tr><td nd="118"><code nd="117"><span style="FONT-FAMILY: 굴림체">XString remove(<span class="cpp-keyword">int</span> beginIndex,<span class="cpp-keyword">int</span> endIndex)</span></code> Removes characters of this string with the specified string at the given index .Returns the new string.</td></tr><tr><td nd="120"><code nd="119"><span style="FONT-FAMILY: 굴림체">XString reverse()</span></code> Returns the reverse of this string.</td></tr><tr><td nd="122"><code nd="121"><span style="FONT-FAMILY: 굴림체">XString rightTrim()</span></code> Returns a string with right white spaces of this string removed.</td></tr><tr><td nd="124"><code nd="123"><span style="FONT-FAMILY: 굴림체">XString leftTrim()</span></code> Returns a string with left white spaces of this string removed.</td></tr><tr><td nd="126"><code nd="125"><span style="FONT-FAMILY: 굴림체">XString trim()</span></code> Returns a string with left and right white spaces of this string removed.</td></tr><tr><td nd="128"><code nd="127"><span style="FONT-FAMILY: 굴림체">XString toUpperCase()</span></code> Returns uppercase version of this string.</td></tr><tr><td nd="130"><code nd="129"><span style="FONT-FAMILY: 굴림체">XString toLowerCase()</span></code> Returns lowercase version of this string.</td></tr><tr><td nd="132"><code nd="131"><span style="FONT-FAMILY: 굴림체">XString capitalize()</span></code> Returns the capitalized version of this string.</td></tr><tr><td nd="134"><code nd="133"><span style="FONT-FAMILY: 굴림체">XString invertCase()</span></code> Returns the a version of this string with all uppercase letters converted to lowercase and vice versa.</td></tr><tr><td nd="136"><code nd="135"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">int</span> toInt()</span></code> Constructs and returns an integer from this string.</td></tr><tr><td nd="138"><code nd="137"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">long</span> toLong()</span></code> Constructs and returns a long from this string.</td></tr><tr><td nd="140"><code nd="139"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">float</span> toFloat()</span></code> Constructs and returns a float from this string.</td></tr><tr><td nd="142"><code nd="141"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">double</span> toDouble()</span></code> Constructs and returns a double from this string.</td></tr><tr><td nd="144"><code nd="143"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">bool</span> equals(XString str)</span></code> Returns true if this string is equal to the specified string. The comparison is case sensitive.</td></tr><tr><td nd="146"><code nd="145"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">bool</span> equalsIgnoreCase(XString str)</span></code> Returns true if this string is equal to the specified string. The comparison is case in-sensitive.</td></tr><tr><td nd="148"><code nd="147"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">bool</span> startsWith(XString str,<span class="cpp-keyword">bool</span> ignoreCase = <span class="cpp-keyword">false</span>)</span></code> Returns true if this string starts with the specified string. The comparison is case in-sensitive if "<code nd="149"><span style="FONT-FAMILY: 굴림체">ignoreCase</span></code>" is true.</td></tr><tr><td nd="151"><code nd="150"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">bool</span> endsWith(XString str,<span class="cpp-keyword">bool</span> ignoreCase = <span class="cpp-keyword">false</span>)</span></code> Returns true if this string ends with the specified string. The comparison is case in-sensitive if "<code nd="152"><span style="FONT-FAMILY: 굴림체">ignoreCase</span></code>" is true.</td></tr><tr><td nd="154"><code nd="153"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">void</span> readFromFile(<span class="cpp-keyword">const</span> <span class="cpp-keyword">char</span>* file)</span></code> Reads the contents of the specified text file into this string. Throws an <code nd="155"><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if file does not exists.</td></tr><tr><td><code nd="156"><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">void</span> writeToFile(<span class="cpp-keyword">const</span> <span class="cpp-keyword">char</span>* file,<span class="cpp-keyword">bool</span> append = <span class="cpp-keyword">false</span>)</span></code> Write the contents of this string to the specified file. The file is overwritten if "append" is false.</td></tr><tr><td><code><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">void</span> setEncoding(<span class="cpp-keyword">int</span> enc)</span></code> Sets encoding of this string to "enc". Valid values are <code><span style="FONT-FAMILY: 굴림체">XString::ASCII</span></code> and <code><span style="FONT-FAMILY: 굴림체">XString::UNICODE</span></code>. This function need to be called only before reading a UNICODE text files. Otherwise, encoding is automatically set based on the type of string assigned.</td></tr><tr><td><code><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">const</span> <span class="cpp-keyword">char</span>* value()</span></code> Returns value of an ASCII <code><span style="FONT-FAMILY: 굴림체">XString</span></code> as a series of chars. Throws as <code><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if the encoding is not ASCII.</td></tr><tr><td><code><span style="FONT-FAMILY: 굴림체"><span class="cpp-keyword">const</span> wchar_t* wvalue()</span></code> Returns value of a UNICODE <code><span style="FONT-FAMILY: 굴림체">XString</span></code> as a series of chars. Throws as <code><span style="FONT-FAMILY: 굴림체">XStringException</span></code> if the encoding is not UNICODE.</td></tr></tbody></table><p><code><span style="FONT-FAMILY: 굴림체">XString</span></code> overloads the '=' and '+' operators. To assign a unicode string to as <code><span style="FONT-FAMILY: 굴림체">XString</span></code>, just prefix the string with an 'L':</p><p></p><pre>XString str = L<span class="cpp-string">"Hello"</span>; <span class="cpp-comment">// assigns a unicode string </span> <span class="cpp-comment">//and sets the encoding type to </span> <span class="cpp-comment">// XString::UNICODE                          </span></pre><p>In the demo project you will find a complete working program that demonstrate the use of various <code><span style="FONT-FAMILY: 굴림체">XString </span></code>functions. </p><h2>History</h2><ul><li>Created: Dec 10th, 2003 </li></ul></span></div>
                        <div class="post-footer">
                            <button class="btn" onclick="button_click();">목록</button>
                        </div>
                    </div>
                </article>
            </main>
        </section>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

        <script>
            function button_click() {
                if(history.length > 1) {
                    history.back();
                } else {
                    document.location.href = "../../블로그포스트목록.html";
                }
            }
        </script>
    </body>
</html>
