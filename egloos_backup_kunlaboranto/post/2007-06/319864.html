<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../css/result.css">

        <title>[펌] 윈도우 플랫폼에서의 cvs 서버 구축 </title>
    </head>
    <body>
        <section id="wrap">
            <header>
                <h1 class="logo-title">
                    <span class="main"><img src="../../images/logo_egloos.png" width="105" height="34" alt="이글루스"></span>
                </h1>
                <div class="user-info">
                    <strong class="name">kun</strong> 님 (<strong class="name">okseop7</strong>)
                </div>
            </header>
            <main>
                <article class="post-wrap">
                    <!-- 게시물 정보 : 날짜 -->
                    <div class="post-info">
                        <span class="time">2007-06-18 12:58:45</span>
                    </div>
                    <!-- 게시물 제목 -->
                    <h2 class="post-title">[펌] 윈도우 플랫폼에서의 cvs 서버 구축 </h2>
                    <!-- 게시물 본문 -->
                    <div class="post-body">
                        <div class="content"><table class="post-top"><tbody><tr><td valign="bottom"><div class="htitle"><span class="pcol1 itemSubjectBoldfont"><strong><span style="COLOR: #719795">윈도우 플랫폼에서의 cvs 서버 구축</span></strong></span> <span class="cate pcol2"><img class="pcol2b fil3" height="11" alt="" src="http://blogimgs.naver.com/imgs/nblog/spc.gif" width="1"><!-- badtag filtered --><a>subversion 사용기</a> <img height="1" alt="" src="http://blogimgs.naver.com/imgs/nblog/spc.gif" width="105"></span> </div><p class="date fil5 pcol2">2007/02/28 09:15</p><p class="fil3 dline"></p><p class="url"><a class="con_link" href="http://blog.naver.com/lxtxl/110014891402" target="_blank">http://blog.naver.com/lxtxl/110014891402</a></p></td></tr></tbody></table><div class="blank clear"></div><div class="post-sub ptl"><img height="17" alt="출처" src="http://blogimgs.naver.com/blog20/blog/ico_origin.gif" width="32"> <a class="con_link" href="http://blog.naver.com/levin01" target="_blank"><span style="COLOR: #426adf">블로그 &gt; 민군네집</span></a><br><span style="COLOR: #426adf"><img height="17" alt="원본" src="http://blogimgs.naver.com/blog20/blog/ico_source.gif" width="32"></span> <a class="con_link" href="http://blog.naver.com/levin01/100004803410" target="_blank"><span style="COLOR: #426adf">http://blog.naver.com/levin01/100004803410</span></a></div><div class="post-view pcol2"><!-- 포스팅 --><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">목적:&nbsp;CVS를 윈도우 플랫폼에서 사용하기</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">개요: CVS는 버전관리 소프트웨어이다.&nbsp; 보통, 리눅스버전의 CVS를 설치해서 공유하거나, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Windows의 경우 Local Directory를 공유를 통해서 나누는 방법이 있으나,</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 여기서는 CVSNT와 WinCVS, tortoisecvs를 이용해서 구축한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">내용</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">1. 시스템 점검&nbsp;</span></strong></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;&nbsp;파일시스템이 NTFS인지 확인하고, 아니라면 전환한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; CVS프로그램 자체가 깔릴 디렉토리는 NTFS가 아니어도 되지만, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 3번에서 생성할 디렉토리는 NTFS시스템상에 있어야 한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><strong></strong><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">2. CVS 디렉토리를 생성하고 권한설정</span></strong></p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; "d:\cvsrepo" 와 "d:\cvstemp" 라는 두개의 디렉토리를 생성한다.</span></strong></p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; SYSTEM 계정에 "모든권한"을 주도록 한다.</span></strong></p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; *주의: "c:\WINNT\Temp" 나 "C:\Documents and Settings" 밑에 놓으면</span></strong></p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;권한설정이 제대로 되지 않는다.</span></strong></p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span></strong>&nbsp;</p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">3.&nbsp;파일&nbsp;받아서 설치</span></strong></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="con_link" href="http://www.cvsnt.org/" target="_blank"><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">http://www.cvsnt.org</span></a><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">에서 가서, 설치파일을 받아서 설치하고, 서버를 리부팅.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 옵션은 잘 모르면, 다 체크한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; SSH 옵션만 Experimental 일 경우 그냥 체크하지 말자.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 시작메뉴에도 있지만, 제어판에 봐도,&nbsp; "CVS for NT" 라고 물고기 아이콘이 있는</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;항목이 생긴다. 이걸 실행한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; Service Stauts가 Start 상태이면, Stop 상태로 바꾼다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><span style="BACKGROUND-COLOR: rgb(255,255,255)"><span style="COLOR: #333333">4. <strong>Repositories 설정</strong></span></span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;&nbsp;3에서 실행된 제어판을 보면 Repositories탭이 있다. </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 여기서 Repository Prefix 체크박스를 설정하고, "..."버튼을 눌러서, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 2.에서 설정한 "d:\cvsrepo" 디렉토리를 선택한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">5. Repsoitory Root 추가하기</span></strong></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 4에서 Prefix를 설정한 그 화면의 중간에 있는 "Add" 버튼을 누르고, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; "D:/cvsrespo/" 라고 써진 텍스트에 바로 붙여서 test라고 쓴다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 즉, "D:/cvsrespo/test"라고 한다. test는 자기가 원하는 이름을 써도 좋다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 새로 만들거냐고 물어보면 OK하면 된다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">6. Advanced 탭 설정</span></strong></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;Advanced 탭에서, impersonation enabled를 체크하면, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; CVS에 접속한 사용자ID권한을 가지고, 파일핸들링을 하게 된다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 그렇지 않다면 CVS Service를 실행한 사용자 권한 (SYSTEM등)의 권한으로</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 파일핸들링이 된다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 도메인에 속해있지 않다면 local user를 쓰도록 설정한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 그리고, 꼭 "Apply"(적용) 버튼을 눌러라..</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 포트번호도 한 번 확인해본다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">7. 다시 서버 스타트</span></strong></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; 6번까지 했으면 첫번째 탭 "Server Status"에서 서버를 다시 시작한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; Command Prompt에서 Path라고 쳐서, C:\Program Files\cvsnt; 이렇게</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp; Path가 추가가 되어 있지 않다면 리부팅하고 다시 확인해봐라.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"></span>&nbsp;</p><p><strong><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">8. 사용자&nbsp;관리- 불안한 프로토콜 제거</span></strong></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 이제 사용자를 추가를 해야 하는데, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 6에서 설정한 대로 tserver의 유저인증을 그대로 쓸 경우가 있고, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp;&nbsp;pserver를 이용하는 경우와 sspi를 쓰는 경우가 있다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; pserver를 쓸 경우 보안상의 약점이 있으므로 sspi를 쓰기를 권장한다고 한다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; pserver 프로토콜은 사용자 암호만 암호화 되고, 나머지 내용은 paint text로 전송되므로, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 인터넷에 공개된 환경에는 적합하지 않다.</span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; 따라서, pserver protocol을 삭제해야 하는데, 삭제는 물리적으로 cvsnt디렉토리에서, </span></p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">&nbsp;&nbsp; <strong>pserver_protocol.dll</strong> 을&nbsp;이름을&nbsp;pserver_protocol.dll.old 로 바꾸자..</span><span style="COLOR: #333333">&nbsp;&nbsp; </span></p><p><span style="COLOR: #333333"></span>&nbsp;</p><p><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)"><strong>9. 사용자 추가</strong></span></p><p><span style="COLOR: #333333">&nbsp;&nbsp;&nbsp; NT계정을 사용자마다 할당해서 사용할 수 도 있고, 그렇지 않을 수도 있다.</span></p><p><span style="COLOR: #333333">&nbsp;&nbsp;&nbsp; 여기서는 그렇지 않을 경우를 본다.</span></p><p><span style="COLOR: #333333">&nbsp;&nbsp;&nbsp;&nbsp;일단 사용자 계정을 다음과 같이 만든다.</span></p><p><span style="COLOR: #333333">&nbsp;&nbsp;&nbsp; 코맨드프롬프트를 열고, </span></p><p><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp; set cvsroot=</span><b><span style="FONT-SIZE: 100%">:sspi:</span></b><code><span style="FONT-FAMILY: 굴림체">&lt;computername&gt;:/&lt;cvsroot name&gt;</span></code></p><p><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cvs passwd -a &lt;user name&gt;</span></code></p><p><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp; 예) set cvsroot=<b><span style="FONT-SIZE: 100%">:sspi:</span></b><code><span style="FONT-FAMILY: 굴림체">myCom:/test (엔터)</span></code></span></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cvs passwd -a testuser(엔터)</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 그리고, 암호넣으라고 나오면 암호 두번 쳐넣어준다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp; 참고, ntserver나 pserver를 암호로 쓸 경우, 아래처럼 한다.</span></code></code></p><p><code><code></code></code><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set cvsroot=<b><span style="FONT-SIZE: 100%">:ntserver:</span></b><code><span style="FONT-FAMILY: 굴림체">&lt;computername&gt;:/&lt;cvsroot name&gt;</span></code></span></code></code></p><p><code><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set cvsroot=<b><span style="FONT-SIZE: 100%">:pserver:</span></b></span><span style="FONT-FAMILY: Courier New"><code>&lt;computername&gt;:/&lt;cvsroot name&gt;</code></span></code></code></code></p><p><code><code></code></code>&nbsp;</p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;일단 사용자가 생겼다 하더라도, 실제 시스템 계정과 연결이 되지 않으면</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp; 효용이 없다. 즉, 실제 NT계정과 연결(Aliasing)을 해줘야 한다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp; 아래 처럼 한다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;cvs passwd -r &lt;NT user&gt; -a &lt;user&gt;</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp; 예) cvs passwd -r&nbsp;NTTestUser -a&nbsp;testuser</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;이러면 동일한 NTUSer의 권한으로 여러 CVS&nbsp;User가 같이 쓰게 된다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp; 위에서 생성된 사용자 정보는 cvsrepo 디렉토리에 passwd란 파일에 저장된다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체"></span></code></code>&nbsp;</p><p><code><code><strong><span style="FONT-FAMILY: 굴림체">10.&nbsp;NT계정제한</span></strong></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp; &nbsp;기본적으로 NT계정의 모든 유저가 CVS에 접근이 되도록 되어 있는데 이것을 막고, </span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;CVS User만 사용하게 하려면, </span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CVSROOT/config 파일에 </span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong> SystemAuth = No</strong></span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;와 같은 줄을 첨가한다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 하지만 이럴 경우 passwd파일에 있는 패스워드는 의미가 없게 되고,</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NT계정암호로 인증을 한다고 한다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 여기서 시스템이란 것은 CVS시스템을 말하는 것 같다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체"></span></code></code>&nbsp;</p><p><code><code><span style="FONT-FAMILY: 굴림체"><strong>11. 클라이언트 프로그램 설치</strong></span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체"><strong>&nbsp;&nbsp;&nbsp;&nbsp; </strong>코맨드라인으로 사용하고자 한다면 <a class="con_link" href="http://www.cvsnt.org/" target="_blank">www.cvsnt.org</a>&nbsp;에서 받은 cvsnt를</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;클라이언트 컴퓨터에도 설치하되, Server Component를 빼고 설치한다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GUI로는 tortorisecvs를 쓴다.</span></code></code></p><p><code><code><span style="FONT-FAMILY: 굴림체"></span></code></code>&nbsp;</p><p><code><span style="FONT-FAMILY: 굴림체"><code></code></span></code>&nbsp;</p><p><code><span style="FONT-FAMILY: 굴림체"><code></code></span></code><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">참고1. </span><a class="con_link" href="http://w1.858.telia.com/%7Eu85831169/InstallCVSNT.html" target="_blank"><span style="COLOR: #333333; BACKGROUND-COLOR: rgb(255,255,255)">http://w1.858.telia.com/~u85831169/InstallCVSNT.html</span></a></p></div></div>
                        <div class="post-footer">
                            <button class="btn" onclick="button_click();">목록</button>
                        </div>
                    </div>
                </article>
            </main>
        </section>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

        <script>
            function button_click() {
                if(history.length > 1) {
                    history.back();
                } else {
                    document.location.href = "../../블로그포스트목록.html";
                }
            }
        </script>
    </body>
</html>
